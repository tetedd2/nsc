<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="theme-darkmode.css">
  <title>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‚Äì ‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4 ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</title>
  <style>
    body { margin:0; font-family:'Segoe UI',sans-serif; background-color:#eaf4f4;}
    .header { background-color:#009688; color:white; padding:20px; text-align:center; }
    .container { padding:20px; max-width:800px; margin:0 auto; }
    .lesson-title { color:#004d40; font-size:1.7rem; margin-bottom:18px; }
    .lesson-content { font-size:1.08rem; color:#444; line-height:1.95; margin-bottom:24px; }
    .pagination { text-align:center; margin:28px 0 10px 0;}
    .page-btn { display:inline-block; background:#009688; color:#fff; padding:8px 20px; border-radius:7px; text-decoration:none; margin:0 12px; transition:background 0.2s;}
    .page-btn:disabled, .disabled { background:#ccc !important; color:#888; pointer-events:none;}
    .back-btn { margin-top:30px; display:inline-block; background:#009688; color:#fff; padding:10px 18px; border-radius:8px; text-decoration:none; transition:background 0.2s;}
    .back-btn:hover { background:#00796b; }
    .action-btn { background:#009688; color:#fff; border:none; border-radius:7px; padding:10px 20px; margin-top:15px; cursor:pointer;}
    .action-btn:hover { background:#00796b; }
    .action-btn:disabled { background:#ccc !important; color:#888; pointer-events:none; }
    .quiz-status { margin-left:16px; font-weight:bold; }
    table { border-collapse:collapse; width:100%; margin:18px 0;}
    th,td { border:1px solid #bbb; padding:10px; }
    th { background:#eee; }
    ul,ol { margin-bottom:1em; }
    .emph { color:#d84315; font-weight:bold;}
    .block { background:#fffde7; border-left:6px solid #fbc02d; margin:14px 0 18px 0; padding:10px 20px; border-radius:6px;}
    .takeaway { color:#00695c; font-weight:bold; margin:18px 0 10px 0;}
    .highlight { background:#e3f2fd; border-left:6px solid #42a5f5; padding:8px 15px; border-radius:6px; margin:14px 0;}
    .example { background: #e0f7fa; border-left: 6px solid #00bcd4; padding: 8px 15px; border-radius: 6px; margin: 14px 0; }
    .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin: 24px 0; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);}
    .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    .end-of-chapter-quiz .question { background-color: #f9f9f9; padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 5px solid #009688; }
    .end-of-chapter-quiz .question-text { font-size: 1.1em; font-weight: 600; margin-bottom: 10px; }
    .end-of-chapter-quiz .choices { display: flex; flex-direction: column; gap: 10px; }
    .end-of-chapter-quiz .choice { background-color: #fff; border: 1px solid #ddd; border-radius: 5px; padding: 10px; cursor: pointer; display: block; }
    #quizResult.correct { color: #388e3c; }
    #quizResult.incorrect { color: #d32f2f; }

    /* Custom Modal Styles */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .modal-overlay.show {
        opacity: 1;
        visibility: visible;
    }
    .modal-content {
        background-color: #ffffff;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        text-align: center;
        max-width: 400px;
        width: 90%;
        transform: translateY(-20px);
        transition: transform 0.3s ease;
    }
    .modal-overlay.show .modal-content {
        transform: translateY(0);
    }
    .modal-content h3 {
        color: #004d40;
        font-size: 1.5rem;
        margin-bottom: 15px;
    }
    .modal-content p {
        color: #333;
        font-size: 1.1rem;
        line-height: 1.6;
        margin-bottom: 25px;
        white-space: pre-wrap; /* Preserve newlines from message */
    }
    .modal-content button {
        background-color: #009688;
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 8px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: background-color 0.2s ease, transform 0.1s ease;
    }
    .modal-content button:hover {
        background-color: #00796b;
        transform: translateY(-1px);
    }
    /* Specific styles for success/error messages */
    .modal-content.success h3 { color: #388e3c; }
    .modal-content.error h3 { color: #d32f2f; }
  </style>
</head>
<body>
  <div class="header"><h1>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</h1></div>
  <div class="container">
    <div id="lessonDetails"></div>
    <div class="pagination" id="pagination"></div>
    <a href="lesson.html" class="back-btn">‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a>
  </div>

  <!-- Custom Alert Modal -->
  <div id="customAlertModal" class="modal-overlay">
    <div class="modal-content">
      <h3 id="modalTitle"></h3>
      <p id="modalMessage"></p>
      <button id="modalCloseBtn">‡∏ï‡∏Å‡∏•‡∏á</button>
    </div>
  </div>

  <script>
    const lessonId = 4; // This should be dynamically set for each lesson page
    const urlParams = new URLSearchParams(window.location.search);
    const pageNow = Number(urlParams.get("page")||1);

    const pages = [
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô (‡∏´‡∏ô‡πâ‡∏≤ 1/6)",
        content: `
          <div>
            <b>‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</b> ‡∏Ñ‡∏∑‡∏≠‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£ ‚Äú‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢-‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå-‡∏•‡∏á‡∏°‡∏∑‡∏≠-‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô-‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‚Äù ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á<br><br>
            <b>‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏´‡∏•‡∏±‡∏Å:</b>
            <ul>
              <li>‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á ‡πÜ</li>
              <li>‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≤‡∏î‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô</li>
              <li>‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà‡∏ù‡∏±‡∏ô</li>
              <li>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</li>
              <li>‡∏°‡∏µ‡∏≠‡∏¥‡∏™‡∏£‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô</li>
            </ul>
            <div class="block"><b>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</b> ‡∏ù‡πâ‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡∏∞ 900 ‡∏ö‡∏≤‡∏ó ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏à‡∏∞‡∏´‡∏°‡∏î‡πÑ‡∏õ‡∏Å‡∏±‡∏ö‡∏Ç‡∏ô‡∏°-‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏´‡∏°‡∏î ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ù‡πâ‡∏≤‡∏¢‡πÅ‡∏ö‡πà‡∏á‡∏à‡πà‡∏≤‡∏¢ 600 ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢, 200 ‡∏≠‡∏≠‡∏°, 100 ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô ‡∏ù‡πâ‡∏≤‡∏¢‡∏à‡∏∞‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
            <h3>‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ</h3>
            <ol>
              <li>‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô</li>
              <li>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö-‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á (‡∏ó‡∏∏‡∏Å‡∏ö‡∏≤‡∏ó ‡∏ó‡∏∏‡∏Å‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå)</li>
              <li>‡∏ß‡∏≤‡∏á‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô</li>
              <li>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡∏≠‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
              <li>‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</li>
              <li>‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÅ‡∏ú‡∏ô‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠</li>
            </ol>
            <div class="highlight"><b>Infobox:</b> ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏û‡∏ö‡∏ß‡πà‡∏≤ ‚Äú‡πÄ‡∏î‡πá‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‚Äù ‡∏à‡∏∞‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏™‡∏π‡∏á</div>
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4: ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°/‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ (‡∏´‡∏ô‡πâ‡∏≤ 2/6)",
        content: `
          <div>
            <h3>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</h3>
            <ul>
              <li>‡∏™‡∏°‡∏∏‡∏î‡∏à‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö-‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÅ‡∏≠‡∏õ‡∏Ø ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (‡πÄ‡∏ä‡πà‡∏ô Money Lover, K-My Money ‡∏Øl)</li>
              <li>‡πÑ‡∏ü‡∏•‡πå Excel ‡∏´‡∏£‡∏∑‡∏≠ Google Sheets</li>
              <li>‡πÅ‡∏ú‡∏ô‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏£‡∏≤‡∏¢‡∏õ‡∏µ (Budget Plan)</li>
              <li>‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ ‚Äú‡∏ã‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‚Äù ‡πÅ‡∏¢‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ä‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏á</li>
              <li>‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏≠‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</li>
            </ul>
            <table>
              <tr><th>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠</th><th>‡∏Ç‡πâ‡∏≠‡∏î‡∏µ</th><th>‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î</th></tr>
              <tr><td>‡∏™‡∏°‡∏∏‡∏î‡∏à‡∏î</td><td>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏ä‡∏±‡∏î</td><td>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏¢‡∏≤‡∏Å</td></tr>
              <tr><td>Excel/Sheets</td><td>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÑ‡∏î‡πâ‡∏•‡∏∂‡∏Å</td><td>‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏≠‡∏°‡∏Ø</td></tr>
              <tr><td>‡πÅ‡∏≠‡∏õ‡∏Ø</td><td>‡∏™‡∏∞‡∏î‡∏ß‡∏Å-‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô-‡∏°‡∏µ‡∏Å‡∏£‡∏≤‡∏ü</td><td>‡∏ö‡∏≤‡∏á‡πÅ‡∏≠‡∏õ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏á‡∏¥‡∏ô/‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•</td></tr>
              <tr><td>‡∏ã‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô</td><td>‡πÅ‡∏¢‡∏Å‡∏ä‡∏±‡∏î ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡πá‡∏Å-‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà</td><td>‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏´‡∏≤‡∏¢-‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</td></tr>
            </table>
            <div class="example"><b>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</b> ‡∏õ‡∏≤‡∏£‡πå‡∏Ñ‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ ‚Äú‡∏ã‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‚Äù ‡πÅ‡∏¢‡∏Å 5 ‡∏ã‡∏≠‡∏á (‡∏≠‡∏≤‡∏´‡∏≤‡∏£, ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á, ‡∏Ç‡∏ô‡∏°, ‡∏≠‡∏≠‡∏°, ‡πÄ‡∏´‡∏ï‡∏∏‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô) ‡∏´‡∏°‡∏î‡∏ã‡∏≠‡∏á‡πÑ‡∏´‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</div>
            <div class="block"><b>Tips:</b> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏î ‚Äú‡∏ó‡∏∏‡∏Å‡∏ö‡∏≤‡∏ó‡∏ó‡∏∏‡∏Å‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå‚Äù ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£</div>
            <div class="highlight"><b>Infobox:</b> ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ‚ÄúSMART‚Äù (Specific, Measurable, Achievable, Relevant, Time-bound) ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏ó‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á</div>
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4: ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô & ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤ (‡∏´‡∏ô‡πâ‡∏≤ 3/6)",
        content: `
          <div>
            <h3>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô ‡∏Å‡∏•‡∏≤‡∏á ‡∏¢‡∏≤‡∏ß</h3>
            <ul>
              <li><b>‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô:</b> 1-6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç/‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà/‡∏ó‡∏±‡∏®‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤</li>
              <li><b>‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡∏•‡∏≤‡∏á:</b> 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô-2 ‡∏õ‡∏µ ‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏≠‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß/‡∏ã‡∏∑‡πâ‡∏≠‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</li>
              <li><b>‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß:</b> ‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏õ‡∏µ ‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏≠‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡πà‡∏≠/‡∏ã‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≠‡∏°‡∏Ø/‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</li>
            </ul>
            <table>
              <tr>
                <th>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</th>
                <th>‡∏ß‡∏¥‡∏ò‡∏µ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô</th>
                <th>‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</th>
              </tr>
              <tr>
                <td>‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏π‡∏ü‡∏±‡∏á</td>
                <td>600 ‡∏ö‡∏≤‡∏ó</td>
                <td>‡∏≠‡∏≠‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡∏∞ 100 ‡∏ö‡∏≤‡∏ó 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</td>
                <td>‡∏ï‡∏¥‡∏î‡∏£‡∏π‡∏õ‡∏´‡∏π‡∏ü‡∏±‡∏á‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏õ‡∏∏‡∏Å, ‡∏à‡∏î‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 5 ‡∏ö‡∏≤‡∏ó</td>
              </tr>
              <tr>
                <td>‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏û‡∏¥‡πÄ‡∏®‡∏©</td>
                <td>3,000 ‡∏ö‡∏≤‡∏ó</td>
                <td>‡∏≠‡∏≠‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡∏∞ 250 ‡∏ö‡∏≤‡∏ó 12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</td>
                <td>‡πÇ‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏∏‡∏Å‡∏ï‡πâ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</td>
              </tr>
              <tr>
                <td>‡πÑ‡∏õ‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</td>
                <td>30,000 ‡∏ö‡∏≤‡∏ó</td>
                <td>‡πÅ‡∏ö‡πà‡∏á‡∏≠‡∏≠‡∏°+‡∏´‡∏≤‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°</td>
                <td>‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á/‡∏•‡∏∏‡πâ‡∏ô‡∏ó‡∏∏‡∏ô</td>
              </tr>
            </table>
            <div class="block"><b>Case Study:</b> ‡∏ô‡πâ‡∏≥‡∏ü‡πâ‡∏≤‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏≠‡∏≠‡∏° 2,000 ‡∏ö‡∏≤‡∏ó‡πÉ‡∏ô 4 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡πÄ‡∏ò‡∏≠‡∏≠‡∏≠‡∏°‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 15 ‡∏ö‡∏≤‡∏ó (‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô) ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤</div>
            <div class="highlight"><b>Infobox:</b> ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏° ‚Äú‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‚Äù ‡πÅ‡∏•‡∏∞ ‚Äú‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‚Äù ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏°/‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡∏ñ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</div>
            <div class="block"><b>‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ:</b> ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏°‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏õ‡πâ‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á</div>
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4: ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå-‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ (‡∏´‡∏ô‡πâ‡∏≤ 4/6)",
        content: `
          <div>
            <h3>‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤</h3>
            <ul>
              <li>‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‚Äú‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‚Äù ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ/‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</li>
              <li>‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå ‡πÄ‡∏ä‡πà‡∏ô ‡∏ñ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏î‡∏á‡∏ö‡∏ü‡∏∏‡πà‡∏°‡πÄ‡∏ü‡∏∑‡∏≠‡∏¢</li>
              <li>‡∏à‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö-‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏™‡∏°‡∏≠ ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô ‚Äú‡∏à‡∏∏‡∏î‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•‚Äù ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö</li>
              <li>‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡πÄ‡∏õ‡πâ‡∏≤‡∏¢‡πà‡∏≠‡∏¢‚Äù ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏´‡∏ç‡πà 12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡πÉ‡∏´‡πâ‡πÅ‡∏ö‡πà‡∏á 3 ‡∏ä‡πà‡∏ß‡∏á</li>
            </ul>
            <table>
              <tr>
                <th>‡∏õ‡∏±‡∏ç‡∏´‡∏≤</th>
                <th>‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
                <th>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</th>
              </tr>
              <tr>
                <td>‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏°‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</td>
                <td>‡πÅ‡∏¢‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏ß‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ã‡∏≠‡∏á, ‡πÉ‡∏ä‡πâ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì</td>
                <td>‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏°‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô</td>
              </tr>
              <tr>
                <td>‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πâ‡∏≤</td>
                <td>‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠, ‡∏Ç‡∏≠‡πÅ‡∏£‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô/‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢</td>
                <td>‡∏ó‡∏≥‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô</td>
              </tr>
              <tr>
                <td>‡∏≠‡∏¢‡∏≤‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡πâ‡∏≠‡∏ô</td>
                <td>‡∏ú‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏°, ‡∏´‡∏≤‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°, ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</td>
                <td>‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡∏µ‡πâ</td>
              </tr>
            </table>
            <div class="block"><b>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</b> ‡∏°‡∏¥‡∏Å‡∏Å‡∏µ‡πâ‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ï‡πà‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠ ‡πÄ‡∏Ç‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏≠‡∏≠‡∏° 1,500 ‡∏ö‡∏≤‡∏ó‡πÉ‡∏ô 3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏≠‡∏≠‡∏°‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 17 ‡∏ö‡∏≤‡∏ó ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏î‡∏Ç‡∏ô‡∏°‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 30 ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 15 ‡∏ö‡∏≤‡∏ó</div>
            <div class="highlight"><b>Infobox:</b> ‚Äú‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‚Äù ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏ú‡∏ô‡πÑ‡∏´‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ ‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á</div>
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4: ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏¥‡∏î‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏¥‡∏î (‡∏´‡∏ô‡πâ‡∏≤ 5/6)",
        content: `
          <div class="takeaway">
            <b>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏¥‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</b>
            <ul>
              <li>‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏£‡πá‡∏ß ‡∏¢‡∏¥‡πà‡∏á‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡πá‡∏ß</li>
              <li>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡πá‡∏£‡∏ß‡∏¢‡πÑ‡∏î‡πâ ‡∏ñ‡πâ‡∏≤ ‚Äú‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô-‡∏≠‡∏≠‡∏°-‡∏•‡∏á‡∏ó‡∏∏‡∏ô‚Äù ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</li>
              <li>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏ß‡πà‡∏≤ ‚Äú‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‚Äù ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏°‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</li>
              <li>‡∏Å‡∏≤‡∏£‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô-‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</li>
            </ul>
            <div class="block">
              <b>‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤:</b>
              <ul>
                <li>‡πÇ‡∏≠‡πã‡∏≠‡∏¢‡∏≤‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡πÇ‡∏ô‡πä‡∏ï‡∏ö‡∏∏‡πä‡∏Ñ ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡πÄ‡∏Å‡πá‡∏ö 9,000 ‡∏ö‡∏≤‡∏ó‡πÉ‡∏ô 10 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏Ç‡∏≤‡∏≠‡∏≠‡∏° 900 ‡∏ö‡∏≤‡∏ó ‡πÇ‡∏î‡∏¢‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏Ç‡∏ô‡∏° ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏á</li>
                <li>‡πÉ‡∏ö‡∏ö‡∏±‡∏ß‡∏à‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö-‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢ ‡∏û‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏ô‡∏Ç‡∏ô‡∏°‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡πÄ‡∏•‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡∏•‡∏î‡∏ó‡∏µ‡∏•‡∏∞‡∏ô‡∏¥‡∏î ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏≠‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏õ‡∏µ‡∏•‡∏∞ 2,000 ‡∏ö‡∏≤‡∏ó</li>
              </ul>
            </div>
            <div class="block">
              <b>‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏¥‡∏î:</b>
              <ol>
                <li>‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡πÄ‡∏ä‡πà‡∏ô ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏™‡∏µ‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡πà‡∏≠‡∏°‡∏î‡πà‡∏ß‡∏ô) ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡πâ‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡πÑ‡∏´‡∏ô? ‡∏Ñ‡∏ß‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?</li>
                <li>‡∏ñ‡πâ‡∏≤‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ï‡πà‡∏á‡∏á‡∏≤‡∏ô) ‡∏à‡∏∞‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?</li>
              </ol>
            </div>
            <div class="highlight"><b>Infobox:</b> ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏ô‡∏±‡∏¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏î‡∏ó‡∏ô ‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ</div>
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4: ‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó (‡∏´‡∏ô‡πâ‡∏≤ 6/6)",
        content: `
          <div class="takeaway">
            ‡∏™‡∏£‡∏∏‡∏õ: ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏∑‡∏≠‡∏Å‡πâ‡∏≤‡∏ß‡πÅ‡∏£‡∏Å‡∏™‡∏π‡πà‡∏≠‡∏¥‡∏™‡∏£‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï
          </div>
          <div class="video-container">
            <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/YvrPvcnWGoQ?si=Rqz9gwRP2LtupnWV&amp;start=2" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
          </div>
          
          <div class="end-of-chapter-quiz" id="end-of-chapter-quiz"></div>
          <button type="button" class="action-btn" id="checkQuizBtn">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
          <span id="quizResult" class="quiz-status"></span>
          <div style="margin-top:16px;">
            <button id="doneBtn" class="action-btn disabled" style="background:#388e3c;">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡∏ô‡∏µ‡πâ</button>
            <span id="doneStatus" class="quiz-status" style="color:#388e3c;"></span>
          </div>
<!-- ===== ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4 ===== -->
<div class="block" style="margin-top:32px;">
  <h3>‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠</h3>
  <ul>
    <li><a href="https://www.fpo.go.th/main" target="_blank">‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á: ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</a></li>
 </ul>
</div>
        `
      }
    ];

    let page = Math.min(Math.max(pageNow,1), pages.length);
    let html = `<div class="lesson-title">${pages[page-1].title}</div>
                <div class="lesson-content">${pages[page-1].content}</div>`;
    document.getElementById("lessonDetails").innerHTML = html;

    let pag = "";
    if (page > 1) pag += `<a class="page-btn" href="lesson-detail4.html?page=${page-1}">‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</a>`;
    if (page < pages.length) pag += `<a class="page-btn" href="lesson-detail4.html?page=${page+1}">‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</a>`;
    document.getElementById("pagination").innerHTML = pag;

    // --- Custom Modal Functions ---
    const customAlertModal = document.getElementById('customAlertModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalMessage = document.getElementById('modalMessage');
    const modalCloseBtn = document.getElementById('modalCloseBtn');
    const modalContent = customAlertModal.querySelector('.modal-content');

    function showCustomAlert(title, message, isSuccess = true) {
        modalTitle.textContent = title;
        modalMessage.textContent = message; // Use textContent to handle newlines naturally
        modalContent.className = 'modal-content ' + (isSuccess ? 'success' : 'error');
        customAlertModal.classList.add('show');
    }

    function hideCustomAlert() {
        customAlertModal.classList.remove('show');
    }

    modalCloseBtn.addEventListener('click', hideCustomAlert);
    // --- End Custom Modal Functions ---


    if (page === pages.length) {
        setTimeout(() => {
            const quizData = [
                { question: "1. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö \"SMART\" ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", choices: ["‡∏Å. ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÉ‡∏´‡∏ç‡πà‡πÅ‡∏•‡∏∞‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î", "‡∏Ç. ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á, ‡∏ß‡∏±‡∏î‡∏ú‡∏•‡πÑ‡∏î‡πâ, ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á, ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤", "‡∏Ñ. ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"], answer: "‡∏Ç. ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á, ‡∏ß‡∏±‡∏î‡∏ú‡∏•‡πÑ‡∏î‡πâ, ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á, ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤" },
                { question: "2. ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ‡πÅ‡∏ï‡πà‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏´‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ?", choices: ["‡∏Å. ‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô", "‡∏Ç. ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ \"‡∏ã‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô\"", "‡∏Ñ. ‡πÑ‡∏ü‡∏•‡πå Google Sheets"], answer: "‡∏Ç. ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ \"‡∏ã‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô\"" },
                { question: "3. ‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß?", choices: ["‡∏Å. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏ß‡πâ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÅ‡∏£‡∏Å‡πÅ‡∏•‡∏∞‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î", "‡∏Ç. ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ 100% ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", "‡∏Ñ. ‡∏Å‡∏≤‡∏£‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏ú‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠"], answer: "‡∏Ñ. ‡∏Å‡∏≤‡∏£‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏ú‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠" }
            ];

            const quizContainer = document.getElementById('end-of-chapter-quiz');
            const checkButton = document.getElementById('checkQuizBtn');
            const resultContainer = document.getElementById('quizResult');
            const doneBtn = document.getElementById("doneBtn");
            const doneStatus = document.getElementById("doneStatus");

            function buildEndOfChapterQuiz() {
                quizData.forEach((currentQuestion, questionNumber) => {
                    const choicesHTML = currentQuestion.choices.map(choice => `<label class="choice"><input type="radio" name="chapter_question${questionNumber}" value="${choice}">${choice}</label>`).join('');
                    const questionHTML = `<div class="question"><div class="question-text">${currentQuestion.question}</div><div class="choices">${choicesHTML}</div></div>`;
                    if(quizContainer) quizContainer.innerHTML += questionHTML;
                });
            }

            function checkQuizAnswers() {
                if (!quizContainer) return;
                const answerContainers = quizContainer.querySelectorAll('.choices');
                let numCorrectForDisplay = 0; // ‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
                let allRequiredQuestionsPassed = true; // ‡πÅ‡∏ü‡∏•‡πá‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏° (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠ 1 ‡πÅ‡∏•‡∏∞ 3 ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç)

                quizData.forEach((currentQuestion, questionNumber) => {
                    const selector = `input[name=chapter_question${questionNumber}]:checked`;
                    const userAnswerNode = (answerContainers[questionNumber]) ? answerContainers[questionNumber].querySelector(selector) : null;
                    
                    if (userAnswerNode) {
                        console.log(`Question ${questionNumber + 1}: User selected: "${userAnswerNode.value.trim()}", Correct answer (from quizData): "${currentQuestion.answer}"`);
                    } else {
                        console.log(`Question ${questionNumber + 1}: No answer selected.`);
                    }

                    if (questionNumber === 1) { // This is question 2 (index 1) in the quizData
                        // As per user's previous request, question 2 is always considered correct for passing the quiz
                        // and will add 1 point to the displayed correct count if any option is selected.
                        if (userAnswerNode) { // Only count if an option is selected for question 2
                           numCorrectForDisplay++;
                        }
                        // Question 2 does not affect the 'allRequiredQuestionsPassed' flag.
                    } else { // For question 1 (index 0) and question 3 (index 2)
                        // These questions must be answered correctly to pass the quiz
                        if (userAnswerNode && userAnswerNode.value.trim() === currentQuestion.answer) {
                            numCorrectForDisplay++;
                        } else {
                            allRequiredQuestionsPassed = false; // If question 1 or 3 is incorrect or not selected, the quiz fails
                        }
                    }
                });

                if (allRequiredQuestionsPassed) { // If questions 1 and 3 are correct (question 2 is disregarded for passing/failing)
                    resultContainer.textContent = "‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠";
                    resultContainer.className = "quiz-status correct";
                    doneBtn.disabled = false;
                    doneBtn.classList.remove('disabled');
                    doneStatus.textContent = "‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏ö‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!";
                } else {
                    resultContainer.textContent = `‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å ${numCorrectForDisplay} ‡∏à‡∏≤‡∏Å ${quizData.length} ‡∏Ç‡πâ‡∏≠`;
                    resultContainer.className = "quiz-status incorrect";
                    doneBtn.disabled = true;
                    doneBtn.classList.add('disabled');
                    doneStatus.textContent = "";
                }
            }
            
            function finishLesson() {
                if (window.completeLessonInFirestore) {
                    window.completeLessonInFirestore(lessonId, 80); // Award 80 XP
                } else {
                    console.error("Firebase script not loaded. Saving to localStorage only.");
                    localStorage.setItem(`MoneySkillz-lesson${lessonId}-done`, "yes");
                    window.checkInitialDoneStatus();
                    showCustomAlert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤", "‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß!");
                }
            }

            window.checkInitialDoneStatus = function() {
                if (localStorage.getItem(`MoneySkillz-lesson${lessonId}-done`) === "yes") {
                    doneStatus.textContent = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß!";
                    if(doneBtn) doneBtn.disabled = true;
                    if(doneBtn) doneBtn.classList.add('disabled');
                    if(checkButton) checkButton.style.display = 'none';
                    if(resultContainer) resultContainer.style.display = 'none';
                    if(quizContainer) quizContainer.querySelectorAll('input[type="radio"]').forEach(radio => { radio.disabled = true; });
                }
            }

            buildEndOfChapterQuiz();
            if(checkButton) checkButton.addEventListener('click', checkQuizAnswers);
            if(doneBtn) doneBtn.addEventListener('click', finishLesson);
            window.checkInitialDoneStatus();

        }, 200);
    }
  </script>

  <!-- Firebase XP & Level Up System -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, doc, runTransaction, increment, arrayUnion } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBjLBl1sEGgQLyng51rW25b434bJ0opVc4",
      authDomain: "myapplication-bd04c034.firebaseapp.com",
      projectId: "myapplication-bd04c034",
      storageBucket: "myapplication-bd04c034.appspot.com",
      messagingSenderId: "49782830313",
      appId: "1:49782830313:web:c81b5d86a937f22d296c78"
    };
  
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const LEVEL_CONFIG = [
        { level: 1, name: "‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô", xpToNext: 100 },
        { level: 2, name: "‡∏ô‡∏±‡∏Å‡∏≠‡∏≠‡∏°‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î", xpToNext: 250 },
        { level: 3, name: "‡∏ô‡∏±‡∏Å‡∏™‡∏∞‡∏™‡∏°‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç", xpToNext: 500 },
        { level: 4, name: "‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô", xpToNext: 1000 },
        { level: 5, name: "‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà", xpToNext: Infinity },
    ];

    /**
     * ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° XP, ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏≠‡∏±‡∏û ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á Firestore
     * @param {string} uid - User ID ‡∏Ç‡∏≠‡∏á Firebase
     * @param {number} amount - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô XP ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°
     * @param {number} lessonId - ID ‡∏Ç‡∏≠‡∏á‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö
     * @returns {Promise<{success: boolean, message: string, isSuccessStatus: boolean}>} - ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á
     */
    async function grantXpAndLevelUp(uid, amount, lessonId) {
        if (!uid || !amount || amount <= 0) return { success: false, message: "Invalid input.", isSuccessStatus: false };
        const userRef = doc(db, 'users', uid);
        let finalMessage = `‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${amount} XP`;
        let isSuccessStatus = true;

        try {
            await runTransaction(db, async (transaction) => {
                const userSnap = await transaction.get(userRef);
                if (!userSnap.exists()) throw new Error("User document not found.");
                const userData = userSnap.data();
                const completedLessons = userData.completedLessons || [];
                if (completedLessons.includes(lessonId)) {
                    finalMessage = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö XP ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß";
                    isSuccessStatus = false;
                    return; 
                }
                let xp = userData.xp || 0;
                let level = userData.level || 1;
                let nextLevelXP = userData.nextLevelXP || LEVEL_CONFIG[0].xpToNext;
                let totalCoinReward = 0;
                xp += amount;
                while (xp >= nextLevelXP && nextLevelXP !== Infinity) {
                    const currentLevelIndex = LEVEL_CONFIG.findIndex(l => l.level === level);
                    if (currentLevelIndex < LEVEL_CONFIG.length - 1) {
                        const nextLevelInfo = LEVEL_CONFIG[currentLevelIndex + 1];
                        const rewardForThisLevel = 100 + (nextLevelInfo.level * 25);
                        totalCoinReward += rewardForThisLevel;
                        xp -= nextLevelXP;
                        level = nextLevelInfo.level;
                        nextLevelXP = nextLevelInfo.xpToNext;
                        finalMessage += `\nüéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏≠‡∏±‡∏û‡πÄ‡∏õ‡πá‡∏ô Level ${level} ‚Äì ${nextLevelInfo.name}!`;
                    } else { break; }
                }
                const finalUpdateData = { xp, level, nextLevelXP, completedLessons: arrayUnion(lessonId) };
                if (totalCoinReward > 0) {
                    finalUpdateData.coins = increment(totalCoinReward);
                    finalMessage += `\n‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${totalCoinReward} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç!`;
                }
                transaction.update(userRef, finalUpdateData);
            });
            return { success: true, message: finalMessage, isSuccessStatus: isSuccessStatus };
        } catch (error) {
            console.error("Error in transaction: ", error);
            return { success: false, message: "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•", isSuccessStatus: false };
        }
    }

    /**
     * ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡∏ô‡∏µ‡πâ" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ XP
     * @param {number} lessonId - ID ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
     * @param {number} xpToAdd - XP ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏´‡πâ
     */
    window.completeLessonInFirestore = async (lessonId, xpToAdd) => {
        const doneBtn = document.getElementById("doneBtn");
        const doneStatus = document.getElementById("doneStatus");
        if (doneBtn.disabled) return;
        doneBtn.disabled = true;
        doneStatus.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...";
        const user = auth.currentUser;
        if (user) {
            const result = await grantXpAndLevelUp(user.uid, xpToAdd, lessonId);
            showCustomAlert(result.success ? "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!" : "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", result.message, result.isSuccessStatus);
            doneStatus.textContent = result.message.split('\n')[0];
            if(result.success) {
                localStorage.setItem(`MoneySkillz-lesson${lessonId}-done`, "yes");
                if (window.checkInitialDoneStatus) window.checkInitialDoneStatus();
            } else {
                doneBtn.disabled = false;
            }
        } else {
            showCustomAlert("‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö XP", false);
            doneBtn.disabled = false;
            doneStatus.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö";
        }
    };

    onAuthStateChanged(auth, (user) => {
        const doneBtn = document.getElementById("doneBtn");
        const doneStatus = document.getElementById("doneStatus");

        if (doneBtn) {
            if (!user) {
                console.log("User is not logged in.");
                doneBtn.disabled = true;
                doneBtn.classList.add('disabled');
                doneBtn.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö";
                doneStatus.textContent = "";
            } else {
                console.log("User is logged in.", user.uid);
                if (window.checkInitialDoneStatus) {
                    window.checkInitialDoneStatus();
                }
                if (!doneBtn.disabled) {
                    doneBtn.textContent = "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡∏ô‡∏µ‡πâ";
                }
            }
        }
    });
  </script>
  <script src="darkmode-toggle.js"></script>
</body>
</html>
