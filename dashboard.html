<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ЁЯТ╝ р╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б - MoneySkillz</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="dashboard.css">
  <link rel="stylesheet" href="theme-darkmode.css">
</head>
<body>
  <div id="main-page" class="nav-page active">
    <header class="header">
      <h1>MoneySkillz</h1>
      <p>р╕нр╕нр╕бр╕зр╕▒р╕Щр╕Щр╕╡р╣Й р╣Ар╕Бр╣Ир╕Зр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щр╕зр╕▒р╕Щр╕лр╕Щр╣Йр╕▓!</p>
      <div class="avatar-box">
        <img id="profilePicture" src="https://cdn-icons-png.flaticon.com/512/4712/4712035.png" alt="Avatar">
      </div>
    </header>

    <div class="container user-info">
      <div id="usernameDisplay" class="username-display"></div>
      <div class="user-level" id="userLevel">Level - р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
      <p class="quote" id="userQuote">"р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Фр╕Др╕│р╕Др╕б..."</p>
      <div class="progress-section">
        <div class="progress-outer">
          <div class="progress-inner" id="userProgress">
            <span class="progress-text" id="progressValue">0%</span>
          </div>
        </div>
        <p class="xp-text">
          р╕Др╕░р╣Бр╕Щр╕Щ XP: <span id="currentXP">0</span> / <span id="nextLevelXP">0</span>
        </p>
      </div>
    </div>

    <div class="container card-section badge-section">
        <h2><span class="icon">ЁЯПЖ</span> р╣Ар╕лр╕гр╕╡р╕вр╕Нр╕Хр╕гр╕▓р╕Др╕зр╕▓р╕бр╕кр╕│р╣Ар╕гр╣Зр╕И</h2>
        <div class="badge-row" id="userBadges">
            <div class="badge placeholder" title="р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Фр╣Ар╕лр╕гр╕╡р╕вр╕Нр╕Хр╕гр╕▓...">тЭУ</div>
        </div>
    </div>

    <div class="container card-section">
      <h2><span class="icon">ЁЯТ░</span> р╕ар╕▓р╕Юр╕гр╕зр╕бр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ</h2>
      <div class="summary-item income">
        <strong>р╕гр╕▓р╕вр╕гр╕▒р╕Ъ:</strong> <span class="amount" id="income">0.00 р╕┐</span>
      </div>
      <div class="summary-item expense">
        <strong>р╕гр╕▓р╕вр╕Ир╣Ир╕▓р╕в:</strong> <span class="amount" id="expense">0.00 р╕┐</span>
      </div>
      <div class="summary-item balance">
        <strong>р╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н:</strong> <span class="amount" id="balance">0.00 р╕┐</span>
      </div>
    </div>

    <div class="container main-menu-grid">
      <div class="menu-card" onclick="location.href='add-transaction.html'">
        <span style="font-size:2.1em;">ЁЯУЭ</span>
        <p>р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕гр╕▓р╕вр╕Ир╣Ир╕▓р╕в</p>
      </div>
      <div class="menu-card" onclick="location.href='add-goal.html'">
        <span style="font-size:2.1em;">ЁЯОп</span>
        <p>р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в</p>
      </div>
      <div class="menu-card" onclick="location.href='graph.html'">
        <span style="font-size:2.1em;">ЁЯУИ</span>
        <p>р╕Бр╕гр╕▓р╕Яр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ</p>
      </div>
      <div class="menu-card" onclick="location.href='lesson.html'">
        <span style="font-size:2.1em;">ЁЯУЪ</span>
        <p>р╕Ър╕Чр╣Ар╕гр╕╡р╕вр╕Щ</p>
      </div>
    </div>

    <div id="goalDisplay" class="container card-section">
      <h2><span class="icon">ЁЯОп</span> р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Бр╕▓р╕гр╕нр╕нр╕бр╕Вр╕нр╕Зр╕Йр╕▒р╕Щ</h2>
      <div class="goal-navigation">
        <button id="prevGoal" class="goal-nav-btn">&#8249;</button>
        <div id="goalDetails">
          <h3 id="goalTitle">- р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в -</h3>
          <div class="goal-progress-bar-container">
            <div id="goalProgressBar" class="goal-progress-bar">0%</div>
          </div>
          <p id="goalAmount">р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в: 0.00 р╕┐</p>
          <p id="goalSavings">р╕нр╕нр╕бр╣Бр╕ер╣Йр╕з: 0.00 р╕┐</p>
          <p id="goalDueDate">р╕Бр╕│р╕лр╕Щр╕Ф: -</p>
        </div>
        <button id="nextGoal" class="goal-nav-btn">&#8250;</button>
      </div>
    </div>

    <div class="container card-section">
      <h2><span class="icon">ЁЯз╛</span> р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕ер╣Ир╕▓р╕кр╕╕р╕Ф</h2>
      <div id="transactionsContainer">
        <p class="no-transactions-message">р╣Др╕бр╣Ир╕бр╕╡р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Шр╕╕р╕гр╕Бр╕гр╕гр╕бр╣Гр╕Щр╕Вр╕Ур╕░р╕Щр╕╡р╣Й</p>
      </div>
    </div>
  </div>

  <div id="goalModal" class="modal">
    <div class="modal-content">
      <span class="close-button" onclick="closeGoalModal()">&times;</span>
      <h2>р╕Хр╕▒р╣Йр╕Зр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╣Гр╕лр╕бр╣И</h2>
      <form id="goalForm">
        <input type="text" id="goalNameInput" placeholder="р╕Кр╕╖р╣Ир╕нр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в (р╣Ар╕Кр╣Ир╕Щ р╕Лр╕╖р╣Йр╕нр╕Ир╕▒р╕Бр╕гр╕вр╕▓р╕Щ)" required>
        <input type="number" id="goalTargetAmount" placeholder="р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕Зр╕┤р╕Щр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в" required>
        <input type="number" id="goalCurrentSavings" placeholder="р╣Ар╕Зр╕┤р╕Щр╕нр╕нр╕бр╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ (р╕Цр╣Йр╕▓р╕бр╕╡)" value="0">
        <label for="goalDueDateInput">р╕зр╕▒р╕Щр╕Др╕гр╕Ър╕Бр╕│р╕лр╕Щр╕Ф (р╕Цр╣Йр╕▓р╕бр╕╡):</label>
        <input type="date" id="goalDueDateInput">
        <button type="submit">р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в</button>
      </form>
      <div id="goalMessage" class="message-div"></div>
    </div>
  </div>

  <div class="ai-chat-btn" onclick="document.getElementById('aiChatBox').style.display='flex'">
    <span>ЁЯдЦ</span>
  </div>
  <div id="aiChatBox">
    <div class="chat-header">
      <b>AI р╕Ьр╕╣р╣Йр╕Кр╣Ир╕зр╕вр╣Вр╕Др╣Йр╕Кр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ</b>
      <span class="chat-close-btn" onclick="document.getElementById('aiChatBox').style.display='none'">тЬЦя╕П</span>
    </div>
    <div id="aiChatHistory">
      <div class="chat-message ai">р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕гр╕▒р╕Ъ! р╕Ьр╕бр╕Др╕╖р╕н AI р╕Ьр╕╣р╣Йр╕Кр╣Ир╕зр╕вр╣Вр╕Др╣Йр╕Кр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ р╕бр╕╡р╕нр╕░р╣Др╕гр╣Гр╕лр╣Йр╕Кр╣Ир╕зр╕вр╣Др╕лр╕бр╕Др╕гр╕▒р╕Ъ?</div>
    </div>
    <form id="aiChatForm">
      <input id="aiChatInput" autocomplete="off" placeholder="р╕Юр╕┤р╕бр╕Юр╣Мр╕Др╕│р╕Цр╕▓р╕б..." />
      <button type="submit">р╕кр╣Ир╕З</button>
    </form>
  </div>

  <nav class="bottom-nav">
    <a href="#" class="bottom-nav-item active">
      <span>ЁЯПа</span><p>р╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б</p>
    </a>
    <a href="game-mode.html" class="bottom-nav-item">
      <span>ЁЯОо</span><p>р╣Ар╕Бр╕б</p>
    </a>
    <a href="settings.html" class="bottom-nav-item">
      <span>тЪЩя╕П</span><p>р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓</p>
    </a>
  </nav>

  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js"></script>
  
  <script type="module" src="dashboard.js" defer></script>
  <script src="darkmode-toggle.js"></script>
</body>
</html>