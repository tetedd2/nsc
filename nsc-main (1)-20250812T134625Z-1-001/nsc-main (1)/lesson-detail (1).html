<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <link rel="stylesheet" href="theme-darkmode.css">
   <script async src="https://www.tiktok.com/embed.js"></script>
  <title>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‚Äì ‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1 ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?</title>
  <style>
    body { margin:0; font-family:'Segoe UI',sans-serif; background-color:#eaf4f4;}
    .header { background-color:#009688; color:white; padding:20px; text-align:center; }
    .container { padding:20px; max-width:800px; margin:0 auto; }
    .lesson-title { color:#004d40; font-size:1.7rem; margin-bottom:18px; }
    .lesson-content { font-size:1.07rem; color:#444; line-height:1.9; margin-bottom:24px; }
    .pagination { text-align:center; margin:28px 0 10px 0;}
    .page-btn { display:inline-block; background:#009688; color:#fff; padding:8px 20px; border-radius:7px; text-decoration:none; margin:0 12px; transition:background 0.2s;}
    .page-btn:disabled, .disabled { background:#ccc !important; color:#888; pointer-events:none;}
    .back-btn { margin-top:30px; display:inline-block; background:#009688; color:#fff; padding:10px 18px; border-radius:8px; text-decoration:none; transition:background 0.2s;}
    .back-btn:hover { background:#00796b; }
    .quiz-label { font-weight:bold; margin-top:1.5em; display:block;}
    .quiz-input { width:100%; padding:9px; border-radius:6px; border:1px solid #bbb; margin-bottom:7px;}
    .save-btn { background:#009688; color:#fff; border:none; border-radius:7px; padding:10px 20px; margin-top:15px; cursor:pointer;}
    .save-btn:hover { background:#00796b; }
    .quiz-status { margin-left:16px; font-weight:bold; }
    table { border-collapse:collapse; width:100%; margin:18px 0;}
    th,td { border:1px solid #bbb; padding:10px; }
    th { background:#eee; }
    ul,ol { margin-bottom:1em; }
    .emph { color:#d84315; font-weight:bold;}
    .block { background:#fffde7; border-left:6px solid #fbc02d; margin:14px 0 18px 0; padding:10px 20px; border-radius:6px;}
    .takeaway { color:#00695c; font-weight:bold; margin:18px 0 10px 0;}
    .video-container { margin: 24px 0; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    /* Styles for new quiz */
    .end-of-chapter-quiz .question { background-color: #f9f9f9; padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 5px solid #009688; }
    .end-of-chapter-quiz .question-text { font-size: 1.1em; font-weight: 600; margin-bottom: 10px; }
    .end-of-chapter-quiz .choices { display: flex; flex-direction: column; gap: 10px; }
    .end-of-chapter-quiz .choice { background-color: #fff; border: 1px solid #ddd; border-radius: 5px; padding: 10px; cursor: pointer; display: block; }
    .end-of-chapter-quiz .choice:hover { background-color: #e0f2f1; }
    .end-of-chapter-quiz .choice input[type="radio"] { margin-right: 10px; }
    #quizResult.correct { color: #388e3c; }
    #quizResult.incorrect { color: #d32f2f; }

    /* Custom Modal Styles */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .modal-overlay.show {
        opacity: 1;
        visibility: visible;
    }
    .modal-content {
        background-color: #ffffff;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        text-align: center;
        max-width: 400px;
        width: 90%;
        transform: translateY(-20px);
        transition: transform 0.3s ease;
    }
    .modal-overlay.show .modal-content {
        transform: translateY(0);
    }
    .modal-content h3 {
        color: #004d40;
        font-size: 1.5rem;
        margin-bottom: 15px;
    }
    .modal-content p {
        color: #333;
        font-size: 1.1rem;
        line-height: 1.6;
        margin-bottom: 25px;
        white-space: pre-wrap; /* Preserve newlines from message */
    }
    .modal-content button {
        background-color: #009688;
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 8px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: background-color 0.2s ease, transform 0.1s ease;
    }
    .modal-content button:hover {
        background-color: #00796b;
        transform: translateY(-1px);
    }
    /* Specific styles for success/error messages */
    .modal-content.success h3 { color: #388e3c; }
    .modal-content.error h3 { color: #d32f2f; }
  </style>
</head>
<body>
  <div class="header"><h1>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?</h1></div>
  <div class="container">
    <div id="lessonDetails"></div>
    <div id="tiktokVideo"></div>
    <div class="pagination" id="pagination"></div>
    <a href="lesson.html" class="back-btn">‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a>
  </div>

  <!-- Custom Alert Modal -->
  <div id="customAlertModal" class="modal-overlay">
    <div class="modal-content">
      <h3 id="modalTitle"></h3>
      <p id="modalMessage"></p>
      <button id="modalCloseBtn">‡∏ï‡∏Å‡∏•‡∏á</button>
    </div>
  </div>

  <script>
    const lessonId = 1; // This should be dynamically set for each lesson page
    const urlParams = new URLSearchParams(window.location.search);
    const pageNow = Number(urlParams.get("page")||1);

    const pages = [
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1: ‡∏ô‡∏¥‡∏¢‡∏≤‡∏° ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó ‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô (‡∏´‡∏ô‡πâ‡∏≤ 1/6)",
        content: `
          <div>
            <b>‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?</b> ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ä‡∏≥‡∏£‡∏∞‡∏´‡∏ô‡∏µ‡πâ ‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï ‡πÇ‡∏î‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö<br><br>
            ‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á (barter) ‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‚Äú‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‚Äù ‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡πà‡∏á‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å<br>
            ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ ‚Äú‡πÄ‡∏á‡∏¥‡∏ô‚Äù ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏≠‡∏¢ ‡πÇ‡∏•‡∏´‡∏∞‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç ‡∏ò‡∏ô‡∏ö‡∏±‡∏ï‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• ‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå‡∏à‡∏∂‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô <br><br>
            <ul>
              <li><b>‡∏¢‡∏∏‡∏Ñ‡πÅ‡∏£‡∏Å:</b> ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏≤‡∏¢‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (‡∏Ç‡πâ‡∏≤‡∏ß ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠ ‡∏´‡∏≠‡∏¢ ‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥ ‡∏Ø‡∏•‡∏Ø)</li>
              <li><b>‡∏¢‡∏∏‡∏Ñ‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏£‡∏≤:</b> ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÅ‡∏•‡∏∞‡∏ò‡∏ô‡∏ö‡∏±‡∏ï‡∏£ (‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÇ‡∏î‡∏¢‡∏£‡∏±‡∏ê/‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•)</li>
              <li><b>‡∏¢‡∏∏‡∏Ñ‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•:</b> ‡πÄ‡∏á‡∏¥‡∏ô‡∏ù‡∏≤‡∏Å e-Wallet ‡∏Ñ‡∏£‡∏¥‡∏õ‡πÇ‡∏ï</li>
            </ul>
            <div class="block">
              <b>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå:</b> ‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‡πÄ‡∏Ñ‡∏¢‡πÉ‡∏ä‡πâ ‚Äú‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‚Äù ‡πÅ‡∏•‡∏∞ ‚Äú‡∏û‡∏î‡∏î‡πâ‡∏ß‡∏á‚Äù ‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏ò‡∏ô‡∏ö‡∏±‡∏ï‡∏£‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
            </div>
            <table>
              <tr><th>‡∏¢‡∏∏‡∏Ñ</th><th>‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</th><th>‡∏Ç‡πâ‡∏≠‡∏î‡∏µ/‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢</th></tr>
              <tr><td>‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</td><td>‡∏Ç‡πâ‡∏≤‡∏ß, ‡∏õ‡∏•‡∏≤, ‡∏ú‡πâ‡∏≤</td><td>‡πÅ‡∏ö‡πà‡∏á‡∏¢‡∏≤‡∏Å, ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô</td></tr>
              <tr><td>‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á</td><td>‡∏´‡∏≠‡∏¢, ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠</td><td>‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏á‡πà‡∏≤‡∏¢, ‡∏û‡∏Å‡∏¢‡∏≤‡∏Å</td></tr>
              <tr><td>‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç/‡∏ò‡∏ô‡∏ö‡∏±‡∏ï‡∏£</td><td>‡πÇ‡∏•‡∏´‡∏∞, ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©</td><td>‡∏û‡∏Å‡∏á‡πà‡∏≤‡∏¢, ‡∏õ‡∏•‡∏≠‡∏°‡πÑ‡∏î‡πâ</td></tr>
              <tr><td>‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•</td><td>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</td><td>‡πÇ‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏°‡πÇ‡∏•‡∏Å, ‡∏ú‡∏±‡∏ô‡∏ú‡∏ß‡∏ô‡∏™‡∏π‡∏á</td></tr>
            </table>
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1: ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô (‡∏´‡∏ô‡πâ‡∏≤ 2/6)",
        content: `
          <div>
            ‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‚Äù ‡πÅ‡∏•‡∏∞ ‚Äú‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏±‡∏î‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‚Äù<br>
            <ul>
              <li><b>‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô:</b> ‡πÉ‡∏ä‡πâ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á</li>
              <li><b>‡∏ï‡∏±‡∏ß‡∏ß‡∏±‡∏î‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤:</b> ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤-‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô</li>
              <li><b>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤:</b> ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏ô‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏°‡∏î‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡πá‡∏ß</li>
              <li><b>‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ä‡∏≥‡∏£‡∏∞‡∏´‡∏ô‡∏µ‡πâ:</b> ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô</li>
            </ul>
            <div class="block">
              <b>‡∏£‡∏π‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</b> ‡∏´‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏µ‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î ‚Äú‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ü‡πâ‡∏≠‚Äù (Inflation) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏á‡πÅ‡∏û‡∏á ‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏•‡∏î‡∏•‡∏á  
            </div>
            <b>‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ</b> ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà
            <ol>
              <li>‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÉ‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°</li>
              <li>‡πÅ‡∏ö‡πà‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏¢‡πà‡∏≠‡∏¢‡πÑ‡∏î‡πâ</li>
              <li>‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</li>
              <li>‡∏û‡∏Å‡∏û‡∏≤‡∏™‡∏∞‡∏î‡∏ß‡∏Å</li>
              <li>‡∏°‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏ï‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠</li>
            </ol>
            <div class="block"><b>‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö:</b> ‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ô‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢ ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç/‡∏ò‡∏ô‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤</div>
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏á‡∏Ñ‡∏° (‡∏´‡∏ô‡πâ‡∏≤ 3/6)",
        content: `
          <div>
            ‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á ‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏≠‡∏° ‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏≤‡∏Å‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏≠‡∏î‡∏Å‡∏£‡∏∞‡∏õ‡∏∏‡∏Å ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≠‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡∏¢‡∏≤‡∏°‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï
            <ul>
              <li>‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏∏‡πà‡∏á‡∏´‡πà‡∏° ‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</li>
              <li>‡∏≠‡∏≠‡∏°‡πÄ‡∏á‡∏¥‡∏ô ‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</li>
              <li>‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô ‡∏´‡∏∏‡πâ‡∏ô ‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥</li>
              <li>‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô</li>
            </ul>
            <div class="block"><b>Case Study:</b> ‡∏ô‡πâ‡∏≠‡∏á‡πÇ‡∏ö‡∏ß‡πå‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏Ñ‡∏π‡πà‡πÉ‡∏´‡∏°‡πà ‡∏à‡∏∂‡∏á‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏´‡∏¢‡∏≠‡∏î‡∏Å‡∏£‡∏∞‡∏õ‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 20 ‡∏ö‡∏≤‡∏ó ‡∏à‡∏ô‡∏Ñ‡∏£‡∏ö 2 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏Å‡πá‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏û‡πà‡∏≠‡πÅ‡∏°‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°</div>
            <b>‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à</b><br>
            ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡πÑ‡∏Å‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï ‡∏Å‡∏≤‡∏£‡∏à‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏Ç‡∏≠‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Å‡∏•‡∏≤‡∏á (‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏ö‡∏á‡∏Å‡πå‡∏ä‡∏≤‡∏ï‡∏¥‡πÑ‡∏ó‡∏¢) ‡∏à‡∏∞‡∏î‡∏π‡πÅ‡∏•‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ü‡πâ‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏á‡∏¥‡∏ô‡∏ù‡∏∑‡∏î‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á  
            <div class="block"><b>Infobox:</b> ‡∏ñ‡πâ‡∏≤‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•‡πÅ‡∏à‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≠‡∏á‡πÅ‡∏û‡∏á‡∏Ç‡∏∂‡πâ‡∏ô (‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ü‡πâ‡∏≠)</div>
            <table>
              <tr><th>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÄ‡∏á‡∏¥‡∏ô</th><th>‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á</th><th>‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏á‡∏Ñ‡∏°</th></tr>
              <tr><td>‡∏≠‡∏≠‡∏°‡πÄ‡∏á‡∏¥‡∏ô</td><td>‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡∏£‡∏≠‡∏á ‡∏¢‡∏≤‡∏°‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</td><td>‡∏•‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô</td></tr>
              <tr><td>‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡∏ï‡∏±‡∏ß</td><td>‡πÄ‡∏Å‡∏¥‡∏î‡∏´‡∏ô‡∏µ‡πâ, ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î</td><td>‡πÄ‡∏Å‡∏¥‡∏î‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏±‡∏á‡∏Ñ‡∏°-‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à</td></tr>
              <tr><td>‡∏•‡∏á‡∏ó‡∏∏‡∏ô</td><td>‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</td><td>‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à</td></tr>
              <tr><td>‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ</td><td>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ó‡∏≤‡∏á‡πÉ‡∏à</td><td>‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°</td></tr>
            </table>
            <div class="block"><b>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏¥‡∏î:</b> ‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á ‚Äú‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‚Äù (value) ‡πÅ‡∏•‡∏∞ ‚Äú‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‚Äù (influence) ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô</div>
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏° ‡∏Ñ‡πà‡∏≤‡∏ô‡∏¥‡∏¢‡∏° ‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ (‡∏´‡∏ô‡πâ‡∏≤ 4/6)",
        content: `
          <div>
            ‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏Ñ‡πà‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏¢‡∏±‡∏á‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÑ‡∏ó‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô ‚Äú‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏ß‡∏±‡∏ç‡∏ñ‡∏∏‡∏á‚Äù ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡∏£‡∏¥‡∏°‡∏á‡∏Ñ‡∏•‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏´‡∏£‡∏∑‡∏≠ ‚Äú‡πÅ‡∏ï‡πä‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‚Äù ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏ó‡∏¢‡∏£‡∏≠‡∏Ñ‡∏≠‡∏¢‡πÉ‡∏ô‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•‡∏ï‡∏£‡∏∏‡∏©‡∏à‡∏µ‡∏ô ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ã‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏ö‡∏∏‡∏ç ‡∏á‡∏≤‡∏ô‡πÅ‡∏ï‡πà‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏°‡πâ‡πÅ‡∏ï‡πà ‚Äú‡∏™‡∏¥‡∏ô‡∏™‡∏≠‡∏î‚Äù ‡πÉ‡∏ô‡∏û‡∏¥‡∏ò‡∏µ‡πÅ‡∏ï‡πà‡∏á‡∏á‡∏≤‡∏ô  
            <div class="block"><b>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</b> ‡∏Å‡∏≤‡∏£‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡∏ß‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏ß‡∏±‡∏ç‡∏ñ‡∏∏‡∏á ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ</div>
            ‡πÄ‡∏á‡∏¥‡∏ô‡∏¢‡∏±‡∏á‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡πà‡∏≤‡∏ô‡∏¥‡∏¢‡∏° ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå ‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏™‡∏±‡∏á‡∏Ñ‡∏°
            <ul>
              <li>‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏π‡∏Å‡∏ù‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏° ‡∏°‡∏±‡∏Å‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏•‡∏π‡∏Å‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</li>
              <li>‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ ‡πÄ‡∏ä‡πà‡∏ô ‡πÉ‡∏™‡πà‡∏ö‡∏≤‡∏ï‡∏£ ‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ñ‡∏ô‡∏¢‡∏≤‡∏Å‡πÑ‡∏£‡πâ ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡πÑ‡∏ó‡∏¢‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡πÉ‡∏à‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô</li>
              <li>‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∏‡πà‡∏ô‡∏û‡πà‡∏≠‡πÅ‡∏°‡πà-‡∏•‡∏π‡∏Å ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡∏ô‡∏¥‡∏¢‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô</li>
              <li>‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏ß‡∏á‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏ö‡∏≤‡∏á‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ ‚Äú‡πÑ‡∏°‡πà‡∏™‡∏∏‡∏†‡∏≤‡∏û‚Äù ‡πÅ‡∏ï‡πà‡∏ö‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</li>
            </ul>
            <div class="block"><b>‡∏™‡∏∏‡∏†‡∏≤‡∏©‡∏¥‡∏ï/‡∏Ñ‡∏≥‡∏Ñ‡∏°:</b> ‚Äú‡∏ü‡∏∏‡πà‡∏°‡πÄ‡∏ü‡∏∑‡∏≠‡∏¢‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á ‡∏≠‡∏î‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‚Äù ‚Äì ‚Äú‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏°‡∏≤‡∏¢‡∏≤ ‡∏Ç‡πâ‡∏≤‡∏ß‡∏õ‡∏•‡∏≤‡∏™‡∏¥‡∏Ç‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á‚Äù ‚Äì ‚Äú‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏≠‡∏≠‡∏° ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡πÉ‡∏ä‡πâ ‡πÉ‡∏à‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏∏‡∏Ç‚Äù</div>
            <b>‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô:</b>  
            - ‡∏Å‡∏≤‡∏£‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï  
            - ‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡∏¢‡∏∂‡∏î‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏Å‡πà‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î  
            <div class="block"><b>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏¥‡∏î:</b> ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç ‡∏ñ‡πâ‡∏≤‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô</div>
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏¢‡∏∏‡∏Ñ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ (‡∏´‡∏ô‡πâ‡∏≤ 5/6)",
        content: `
          <div>
            ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏¢‡∏∏‡∏Ñ‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏ä‡∏¥‡∏á ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå ‡∏ä‡∏≥‡∏£‡∏∞‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢ QR Code ‡∏´‡∏£‡∏∑‡∏≠ e-Wallet ‡∏Å‡πá‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏û‡∏£‡∏¥‡∏ö‡∏ï‡∏≤ ‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ
            <ul>
              <li>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ ‚Äú‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏û‡∏¢‡πå‚Äù ‡πÅ‡∏•‡∏∞ e-Wallet ‡πÄ‡∏ä‡πà‡∏ô TrueMoney, ShopeePay, LinePay ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô</li>
              <li>‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• (Cryptocurrency) ‡∏≠‡∏¢‡πà‡∏≤‡∏á Bitcoin, Ethereum ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÇ‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏ï‡πà‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ú‡∏±‡∏ô‡∏ú‡∏ß‡∏ô‡∏™‡∏π‡∏á</li>
              <li>CBDC (Central Bank Digital Currency) ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÇ‡∏î‡∏¢‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Å‡∏•‡∏≤‡∏á ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡πÑ‡∏ó‡∏¢</li>
              <li>‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà: ‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏ã‡πÄ‡∏ö‡∏≠‡∏£‡πå, ‡∏ü‡∏¥‡∏ä‡∏ä‡∏¥‡πà‡∏á, ‡πÅ‡∏≠‡∏õ‡∏•‡∏ß‡∏á‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô, ‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏≠‡∏°‡πÅ‡∏õ‡∏•‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°</li>
            </ul>
            <div class="block"><b>‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤:</b> ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏≠‡∏õ‡∏Ø ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡∏¥‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏ï‡πà‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</div>
            <table>
              <tr><th>‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</th><th>‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•/‡∏Ñ‡∏£‡∏¥‡∏õ‡πÇ‡∏ï</th><th>CBDC</th></tr>
              <tr>
                <td>‡∏à‡∏±‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ<br>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÄ‡∏ô‡πá‡∏ï<br>‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏´‡∏≤‡∏¢</td>
                <td>‡πÇ‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß<br>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ<br>‡∏ú‡∏±‡∏ô‡∏ú‡∏ß‡∏ô</td>
                <td>‡∏≠‡∏≠‡∏Å‡πÇ‡∏î‡∏¢‡∏£‡∏±‡∏ê<br>‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™<br>‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏î‡∏•‡∏≠‡∏á</td>
              </tr>
            </table>
            <div class="block"><b>Tips:</b> ‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏ä‡πâ e-Wallet ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏≠‡∏õ‡πÉ‡∏´‡∏°‡πà ‡πÜ ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
            <b>‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï:</b>  
            - ‡πÄ‡∏¢‡∏≤‡∏ß‡∏ä‡∏ô‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ (Digital Literacy)  
            - ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏à‡∏∞‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏±‡∏¢‡∏Ñ‡∏∏‡∏Å‡∏Ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà ‡πÜ  
          </div>
        `
      },
      {
        title: "‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1: ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó (‡∏´‡∏ô‡πâ‡∏≤ 6/6)",
        content: `
          <div class="end-of-chapter-quiz" id="end-of-chapter-quiz">
            <!-- Quiz questions will be built here -->
          </div>
          <button type="button" class="save-btn" id="checkQuizBtn">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
          <span id="quizResult" class="quiz-status"></span>
          
          <div style="margin-top:16px;">
            <button id="doneBtn" class="save-btn disabled" style="background:#388e3c;">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡∏ô‡∏µ‡πâ</button>
            <span id="doneStatus" class="quiz-status"></span>
          </div>

          <div style="margin-top: 40px; border-top: 1px solid #ddd; padding-top: 20px; text-align: left;">
            <h3>‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠</h3>
            <ul>
              <li><a href="https://www.bot.or.th/th/home.html">‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡πÅ‡∏´‡πà‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢: ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?</a></li>
              <li><a href="https://www.fpo.go.th/main/News/Special-report/772.aspx" target="_blank" rel="noopener noreferrer">‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á: ‡∏ß‡∏¥‡∏ß‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô</a></li>
            </ul>
          </div>
        `
      }
    ];

    let page = Math.min(Math.max(pageNow,1), pages.length);
    let html = `<div class="lesson-title">${pages[page-1].title}</div>
                <div class="lesson-content">${pages[page-1].content}</div>`;
    document.getElementById("lessonDetails").innerHTML = html;

    let pag = "";
    if (page > 1) pag += `<a class="page-btn" href="lesson-detail.html?page=${page-1}">‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</a>`;
    if (page < pages.length) pag += `<a class="page-btn" href="lesson-detail.html?page=${page+1}">‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</a>`;
    document.getElementById("pagination").innerHTML = pag;

    if (page === 1) {
      document.getElementById("tiktokVideo").innerHTML = `
        <div class="video-container">
          <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@ckfastwork/video/7214687099662912773" data-video-id="7214687099662912773" style="max-width: 605px;min-width: 325px;">
            <section>
              <a target="_blank" title="@ckfastwork" href="https://www.tiktok.com/@ckfastwork">@ckfastwork</a>
              <p>‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£? ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÑ‡∏ß</p>
              <a target="_blank" title="TikTok Sound" href="https://www.tiktok.com/music">‚ô¨ ‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö - ckfastwork</a>
            </section>
          </blockquote>
        </div>
      `;
    }

    // --- Custom Modal Functions ---
    const customAlertModal = document.getElementById('customAlertModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalMessage = document.getElementById('modalMessage');
    const modalCloseBtn = document.getElementById('modalCloseBtn');
    const modalContent = customAlertModal.querySelector('.modal-content');

    function showCustomAlert(title, message, isSuccess = true) {
        modalTitle.textContent = title;
        modalMessage.textContent = message; // Use textContent to handle newlines naturally
        modalContent.className = 'modal-content ' + (isSuccess ? 'success' : 'error');
        customAlertModal.classList.add('show');
    }

    function hideCustomAlert() {
        customAlertModal.classList.remove('show');
    }

    modalCloseBtn.addEventListener('click', hideCustomAlert);
    // --- End Custom Modal Functions ---


    if (page === pages.length) {
      const quizData = [
          { question: "‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", choices: ["‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö", "‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô", "‡πÉ‡∏ä‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏ê‡∏≤‡∏ô‡∏∞‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°", "‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á"], answer: "‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô" },
          { question: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ?", choices: ["‡πÄ‡∏ô‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πà‡∏≤‡∏¢", "‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏û‡∏Å‡∏û‡∏≤‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÅ‡∏•‡∏∞‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô", "‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏≤‡∏Å"], answer: "‡∏û‡∏Å‡∏û‡∏≤‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÅ‡∏•‡∏∞‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô" },
          { question: "‡∏†‡∏≤‡∏ß‡∏∞ '‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ü‡πâ‡∏≠' (Inflation) ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?", choices: ["‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ñ‡∏π‡∏Å‡∏•‡∏á", "‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô", "‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏û‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏•‡∏î‡∏•‡∏á", "‡∏Ñ‡∏ô‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô"], answer: "‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏û‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏•‡∏î‡∏•‡∏á" }
      ];

      const quizContainer = document.getElementById('end-of-chapter-quiz');
      const checkButton = document.getElementById('checkQuizBtn');
      const resultContainer = document.getElementById('quizResult');
      const doneBtn = document.getElementById("doneBtn");
      const doneStatus = document.getElementById("doneStatus");

      function buildEndOfChapterQuiz() {
          quizData.forEach((currentQuestion, questionNumber) => {
              const choices = currentQuestion.choices.map(choice => `<label class="choice"><input type="radio" name="chapter_question${questionNumber}" value="${choice}">${choice}</label>`).join('');
              const questionHTML = `<div class="question"><div class="question-text">${questionNumber + 1}. ${currentQuestion.question}</div><div class="choices">${choices}</div></div>`;
              quizContainer.innerHTML += questionHTML;
          });
      }

      function checkQuizAnswers() {
          const answerContainers = quizContainer.querySelectorAll('.choices');
          let numCorrect = 0;
          let allAnswered = true;
          quizData.forEach((currentQuestion, questionNumber) => {
              const selector = `input[name=chapter_question${questionNumber}]:checked`;
              const userAnswerNode = answerContainers[questionNumber].querySelector(selector);
              if (!userAnswerNode) { allAnswered = false; return; }
              if (userAnswerNode.value === currentQuestion.answer) numCorrect++;
          });

          if (!allAnswered) {
              resultContainer.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠";
              resultContainer.className = "quiz-status incorrect";
              doneBtn.disabled = true; // Keep done button disabled if not all questions are answered
              doneBtn.classList.add('disabled');
              return;
          }

          if (numCorrect === quizData.length) {
              resultContainer.textContent = "‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠";
              resultContainer.className = "quiz-status correct";
              doneBtn.disabled = false;
              doneBtn.classList.remove('disabled');
              doneStatus.textContent = "‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏ö‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!";
          } else {
              resultContainer.textContent = `‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å ${numCorrect} ‡∏à‡∏≤‡∏Å ${quizData.length} ‡∏Ç‡πâ‡∏≠ ‡∏•‡∏≠‡∏á‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á`;
              resultContainer.className = "quiz-status incorrect";
              doneBtn.disabled = true;
              doneBtn.classList.add('disabled');
              doneStatus.textContent = "";
          }
      }
      
      function finishLesson() {
        if (window.completeLessonInFirestore) {
            window.completeLessonInFirestore(lessonId, 80); // Award 80 XP
        } else {
            console.error("Firebase script not loaded. Saving to localStorage only.");
            localStorage.setItem(`MoneySkillz-lesson${lessonId}-done`, "yes");
            window.checkInitialDoneStatus();
            showCustomAlert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤", "‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß!");
        }
      }

      window.checkInitialDoneStatus = function() {
          if (localStorage.getItem(`MoneySkillz-lesson${lessonId}-done`) === "yes") {
              doneStatus.innerHTML = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß!";
              doneBtn.disabled = true;
              doneBtn.classList.add('disabled');
              if (checkButton) checkButton.style.display = 'none';
              if (resultContainer) resultContainer.style.display = 'none';
          }
      }

      buildEndOfChapterQuiz();
      checkButton.addEventListener('click', checkQuizAnswers);
      doneBtn.addEventListener('click', finishLesson);
      window.checkInitialDoneStatus();
    }
  </script>

  <!-- =============================================================== -->
  <!-- ===== NEW SCRIPT FOR FIREBASE XP & LEVEL UP SYSTEM ===== -->
  <!-- =============================================================== -->
  <script type="module">
    // Firebase SDK Imports
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, doc, runTransaction, increment, arrayUnion } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    // Firebase Configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBjLBl1sEGgQLyng51rW25b434bJ0opVc4",
      authDomain: "myapplication-bd04c034.firebaseapp.com",
      projectId: "myapplication-bd04c034",
      storageBucket: "myapplication-bd04c034.appspot.com",
      messagingSenderId: "49782830313",
      appId: "1:49782830313:web:c81b5d86a937f22d296c78"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // XP & Leveling System Configuration (from dashboard.js)
    const LEVEL_CONFIG = [
        { level: 1, name: "‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô", xpToNext: 100 },
        { level: 2, name: "‡∏ô‡∏±‡∏Å‡∏≠‡∏≠‡∏°‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î", xpToNext: 250 },
        { level: 3, name: "‡∏ô‡∏±‡∏Å‡∏™‡∏∞‡∏™‡∏°‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç", xpToNext: 500 },
        { level: 4, name: "‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô", xpToNext: 1000 },
        { level: 5, name: "‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà", xpToNext: Infinity },
    ];

    async function grantXpAndLevelUp(uid, amount, lessonId) {
        if (!uid || !amount || amount <= 0) return { success: false, message: "Invalid input." };
        
        const userRef = doc(db, 'users', uid);
        let finalMessage = `‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${amount} XP`;
        let isSuccessStatus = true; // To determine modal style

        try {
            await runTransaction(db, async (transaction) => {
                const userSnap = await transaction.get(userRef);
                if (!userSnap.exists()) throw new Error("User document not found.");

                const userData = userSnap.data();
                const completedLessons = userData.completedLessons || [];
                if (completedLessons.includes(lessonId)) {
                    console.log(`Lesson ${lessonId} already completed. No XP awarded.`);
                    finalMessage = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö XP ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß";
                    isSuccessStatus = false; // Not a new success
                    return; 
                }

                let xp = userData.xp || 0;
                let level = userData.level || 1;
                let nextLevelXP = userData.nextLevelXP || LEVEL_CONFIG[0].xpToNext;
                let totalCoinReward = 0;
                
                xp += amount;
                
                while (xp >= nextLevelXP && nextLevelXP !== Infinity) {
                    const currentLevelIndex = LEVEL_CONFIG.findIndex(l => l.level === level);
                    if (currentLevelIndex < LEVEL_CONFIG.length - 1) {
                        const nextLevelInfo = LEVEL_CONFIG[currentLevelIndex + 1];
                        const rewardForThisLevel = 100 + (nextLevelInfo.level * 25);
                        totalCoinReward += rewardForThisLevel;
                        xp -= nextLevelXP;
                        level = nextLevelInfo.level;
                        nextLevelXP = nextLevelInfo.xpToNext;
                        finalMessage += `\nüéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏≠‡∏±‡∏û‡πÄ‡∏õ‡πá‡∏ô Level ${level} ‚Äì ${nextLevelInfo.name}!`;
                    } else {
                        break;
                    }
                }
                
                const finalUpdateData = {
                    xp: xp,
                    level: level,
                    nextLevelXP: nextLevelXP,
                    completedLessons: arrayUnion(lessonId)
                };

                if (totalCoinReward > 0) {
                    finalUpdateData.coins = increment(totalCoinReward);
                    finalMessage += `\n‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${totalCoinReward} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç!`;
                }
                
                transaction.update(userRef, finalUpdateData);
            });
            
            return { success: true, message: finalMessage, isSuccessStatus: isSuccessStatus };
        } catch (error) {
            console.error("Error in transaction: ", error);
            return { success: false, message: "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•", isSuccessStatus: false };
        }
    }

    window.completeLessonInFirestore = async (lessonId, xpToAdd) => {
        const doneBtn = document.getElementById("doneBtn");
        const doneStatus = document.getElementById("doneStatus");
        
        if (doneBtn.disabled) return;
        doneBtn.disabled = true;
        doneStatus.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...";
        
        const user = auth.currentUser;
        if (user) {
            const result = await grantXpAndLevelUp(user.uid, xpToAdd, lessonId);
            
            // Use custom alert instead of browser alert
            showCustomAlert(result.success ? "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!" : "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", result.message, result.isSuccessStatus);
            doneStatus.textContent = result.message.split('\n')[0]; // Show only the first line on status

            if(result.success) {
                localStorage.setItem(`MoneySkillz-lesson${lessonId}-done`, "yes");
                if (window.checkInitialDoneStatus) {
                    window.checkInitialDoneStatus();
                }
            } else {
                doneBtn.disabled = false;
            }
        } else {
            showCustomAlert("‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö XP", false);
            doneBtn.disabled = false;
            doneStatus.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö";
        }
    };

    onAuthStateChanged(auth, (user) => {
        const doneBtn = document.getElementById("doneBtn");
        const doneStatus = document.getElementById("doneStatus");

        if (doneBtn) {
            if (!user) {
                console.log("User is not logged in.");
                doneBtn.disabled = true;
                doneBtn.classList.add('disabled');
                doneBtn.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"; // Set button text directly
                doneStatus.textContent = ""; // Clear status if logged out
            } else {
                console.log("User is logged in.", user.uid);
                // Re-enable if conditions are met, otherwise check status via checkInitialDoneStatus
                if (window.checkInitialDoneStatus) {
                    window.checkInitialDoneStatus(); // This will enable/disable based on local storage
                }
                // If the button is not disabled by checkInitialDoneStatus, set its text back
                if (!doneBtn.disabled) {
                    doneBtn.textContent = "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡∏ô‡∏µ‡πâ";
                }
            }
        }
    });
  </script>

  <script src="darkmode-toggle.js"></script>
</body>
</html>
